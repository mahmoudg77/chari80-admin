@model IEnumerable<Chair80CP.Models.vwProfile>
@using Chair80CP.BLL
@using Chair80CP.Libs

@{
    ViewBag.Title = "Index";
}


<div class="row clearfix">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="card">
            <div class="header">
                <h2>
                    @ViewBag.Title
                </h2>
               

            </div>
            <div class="body">
                <div class="table-responsive">
                    <div class="table-responsive">
                        <table class="table table-striped table-hover js-basic-example dataTable">
                            <thead>
                                <tr>
                                    <th>
                                        Name
                                    </th>
                                    <th>
                                        Mobile
                                    </th>
                                    <th>
                                        Register Date
                                    </th>
                                    <th>
                                        Gender
                                    </th>
                                    <th>
                                        ID No.
                                    </th>
                                    <th>
                                        License No.
                                    </th>
                                    <th>
                                        Location
                                    </th>
                                    <th>
                                        Has Cars
                                    </th>
                                    <th>
                                       Driving Cars
                                    </th>
                                    <th>
                                        Has Drivers
                                    </th>
                                    <th>
                                        Docs
                                    </th>

                                    <th></th>
                                </tr>
                            </thead>
                            @foreach (var item in Model)
                            {
                            <tr>
                                <td>
                                    <img  src="@Settings.Get("api_url")/img/crope/tbl_accounts/@item.id/30x30/main-last.gif" class="img-circle img-profile">
                                    @item.first_name @item.last_name
                                </td>
                                <td>
                                    @item.mobile
                                </td>
                                <td>
                                    @item.register_time.Value.ToLongDateString()
                                </td>
                                <td>
                                    @item.gender_name.local()
                                </td>
                                <td>
                                    @item.id_no
                                </td>
                                <td>
                                    @item.driver_license_no
                                </td>
                                <td>
                                    @item.city_name.local(), @item.country_name.local()
                                </td>
                                <td>
                                    <a title="User Vehicles" class="modal-link" href="/Profiles/GetField/@item.id/Vehicles">@item.MyVehicles</a>
                                </td>
                                <td>
                                    <a title="Driver Vehicles" class="modal-link" href="/Profiles/GetField/@item.id/Drive-Vehicles">@item.DriveVehicles</a>
                                </td>
                                <td>
                                    @item.MyDrivers
                                </td>
                                <td>
                                    @if (item.ID_Image != "")
                                    {<a data-type="image" title="ID Image" class="btn details" target="_blank" href="@Settings.Get("api_url")@item.ID_Image">ID Image</a>}
                                    @if (item.DL_Image != "")
                                    {<a data-type="image" title="License Image" class="btn details" target="_blank" href="@Settings.Get("api_url")@item.DL_Image">License Image</a>}
                                </td>

                                <td class="text-center">
                                    @Html.ActionLink("edit", "EditRoles", "Profiles", new { id = item.id }, new { @class = "btn text-success material-icons edit" })
                                    @Html.ActionLink("remove_red_eye", "Details", "Profiles", new { id = item.id }, new { @class = "btn material-icons details" })
                                    @Html.ActionLink("delete", "Delete", "Profiles", new { id = item.id }, new { @class = "btn text-danger material-icons delete" })
                                </td>

                            </tr>
                            }

                        </table>
                    </div>

                </div>
            </div>
        </div>
    </div>
