@model IEnumerable<Chair80CP.Models.tbl_cities>
@using Chair80CP.Libs
@{
    ViewBag.Title = "City";
}


<div class="row clearfix">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="card">
            <div class="header">
                <h2>
                    @ViewBag.Title
                </h2>
                <ul class="header-dropdown m-r--5">
                    <li>
                        @Html.ActionLink("Create New", "Create", "City", new { }, new { @class = "btn btn-primary btn-md addnew " })
                    </li>
                </ul>

            </div>
            <div class="body">
                <div class="table-responsive">
                    <table class="table table-striped table-hover js-basic-example dataTable">
                        <thead>
                            <tr>
                               

                                @foreach (string lang in Chair80CP.BLL.GlobalData.Languages)
                                {
                                    <th><label>Name (@lang)</label></th>
                                }
                               
                                <th>Country</th>
                                <th></th>
                            </tr>
                        </thead>
                        @foreach (var item in Model)
                        {
                        <tr>
                                 @foreach (var value in Chair80CP.Libs.General.getLangData(item.name))
                                 {
                                     try
                                     {

                                        <td>
                                            @value.Value
                                        </td>


                                     }
                                     catch (Exception)
                                     {

                                        <td>
                                            @item.name
                                        </td>
                                     }
                                 }
                            
                            <td>
                                @item.tbl_countries.name.local()
                            </td>
                            <td class="text-center">
                                @*<div class="btn-group mybtn">*@
                                @Html.ActionLink("edit", "Edit","City", new { id = item.id }, new { @class = "btn text-success material-icons edit" })
                                @Html.ActionLink("remove_red_eye", "Details", "City", new { id = item.id }, new { @class = "btn material-icons details" })
                                @Html.ActionLink("delete", "Delete", "City", new { id = item.id }, new { @class = "btn text-danger material-icons delete" })
                                @*</div>*@
                            </td>
                        </tr>

                        }

                    </table>
            </div>

                </div>            
            </div>
</div>
</div>
